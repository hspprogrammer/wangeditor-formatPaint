{"remainingRequest":"/Users/hanshanpeng/myproject/myCode/github/wangeditor-formatPaint/node_modules/thread-loader/dist/cjs.js!/Users/hanshanpeng/myproject/myCode/github/wangeditor-formatPaint/node_modules/babel-loader/lib/index.js!/Users/hanshanpeng/myproject/myCode/github/wangeditor-formatPaint/src/assets/FromatPaint.js","dependencies":[{"path":"/Users/hanshanpeng/myproject/myCode/github/wangeditor-formatPaint/src/assets/FromatPaint.js","mtime":1669281883301},{"path":"/Users/hanshanpeng/myproject/myCode/github/wangeditor-formatPaint/babel.config.js","mtime":1569297232000},{"path":"/Users/hanshanpeng/myproject/myCode/github/wangeditor-formatPaint/node_modules/cache-loader/dist/cjs.js","mtime":1669281452401},{"path":"/Users/hanshanpeng/myproject/myCode/github/wangeditor-formatPaint/node_modules/thread-loader/dist/cjs.js","mtime":1669281454237},{"path":"/Users/hanshanpeng/myproject/myCode/github/wangeditor-formatPaint/node_modules/babel-loader/lib/index.js","mtime":1669281437456}],"contextDependencies":[],"result":["import \"core-js/modules/es6.object.define-property\";\nimport \"core-js/modules/es6.object.define-properties\";\nimport \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport _defineProperty from \"/Users/hanshanpeng/myproject/myCode/github/wangeditor-formatPaint/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty.js\";\nimport _classCallCheck from \"/Users/hanshanpeng/myproject/myCode/github/wangeditor-formatPaint/node_modules/@babel/runtime-corejs2/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/hanshanpeng/myproject/myCode/github/wangeditor-formatPaint/node_modules/@babel/runtime-corejs2/helpers/esm/createClass.js\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport { createEditor } from '@wangeditor/editor';\nvar FormatPaint = /*#__PURE__*/function () {\n  function FormatPaint() {\n    _classCallCheck(this, FormatPaint);\n    this.title = '格式刷'; // 自定义菜单标题\n    // this.iconSvg = '<svg>...</svg>' // 可选\n    this.tag = 'button';\n    this.isSelect = false;\n    this.formatJson = {\n      bgColor: \"rgb(115, 209, 61)\",\n      bold: true,\n      color: \"rgb(255, 77, 79)\",\n      fontFamily: \"微软雅黑\",\n      fontSize: \"24px\",\n      italic: true,\n      text: \"界面展现用户体验和\",\n      through: true,\n      underline: true\n    };\n    this.formatedHtml = '';\n  }\n  _createClass(FormatPaint, [{\n    key: \"getValue\",\n    value: function getValue(editor) {\n      // JS 语法\n      return '';\n    }\n\n    // 菜单是否需要激活（如选中加粗文本，“加粗”菜单会激活），用不到则返回 false\n  }, {\n    key: \"isActive\",\n    value: function isActive(editor) {\n      return this.isSelect;\n    }\n\n    // 菜单是否需要禁用（如选中 H1 ，“引用”菜单被禁用），用不到则返回 false\n  }, {\n    key: \"isDisabled\",\n    value: function isDisabled(editor) {\n      // JS 语法\n      return false;\n    }\n\n    // 点击菜单时触发的函数\n  }, {\n    key: \"exec\",\n    value: function exec(editor, value) {\n      if (this.isDisabled(editor)) return;\n      var select = editor.getFragment()[0].children[0];\n      if (!this.isSelect && select.text.length) {\n        this.formatJson = _objectSpread({}, select);\n        this.isSelect = true;\n      } else {\n        editor.getSelectionText();\n        this.isSelect = false;\n      }\n      editor.blur();\n      editor.focus(); // JS 语法\n    }\n    //设置格式化好的内容\n  }, {\n    key: \"setFormatHtml\",\n    value: function setFormatHtml(editor) {\n      if (!this.formatedHtml.length) return;\n      editor.dangerouslyInsertHtml(this.formatedHtml);\n      this.formatedHtml = '';\n    }\n  }]);\n  return FormatPaint;\n}(); //\nvar myFormatPaint = new FormatPaint();\nexport function withSelect(editor) {\n  // JS 语法\n\n  var onChange = editor.onChange,\n    onBlur = editor.onBlur,\n    onFocus = editor.onFocus; // 获取当前 editor API\n  var newEditor = editor;\n  newEditor.onChange = function (editor) {\n    onChange();\n    if (myFormatPaint.isSelect) {\n      myFormatPaint.formatJson.text = newEditor.getSelectionText();\n      var _editor = createEditor({\n        content: [myFormatPaint.formatJson]\n      });\n      myFormatPaint.formatedHtml = _editor.getHtml();\n      if (!document.onmouseup) {\n        document.onmouseup = function () {\n          if (!myFormatPaint.formatedHtml.length) return;\n          myFormatPaint.setFormatHtml(newEditor);\n          document.onmouseup = null;\n        };\n      }\n    }\n    return;\n  };\n  return newEditor;\n}\nvar FormatPaintMenuConf = {\n  key: 'FormatPaintMenuConf',\n  // 定义 menu key ：要保证唯一、不重复（重要）\n  factory: function factory() {\n    return myFormatPaint; // 把 `YourMenuClass` 替换为你菜单的 class\n  }\n};\n\nexport default FormatPaintMenuConf;",{"version":3,"names":["createEditor","FormatPaint","title","tag","isSelect","formatJson","bgColor","bold","color","fontFamily","fontSize","italic","text","through","underline","formatedHtml","editor","value","isDisabled","select","getFragment","children","length","getSelectionText","blur","focus","dangerouslyInsertHtml","myFormatPaint","withSelect","onChange","onBlur","onFocus","newEditor","_editor","content","getHtml","document","onmouseup","setFormatHtml","FormatPaintMenuConf","key","factory"],"sources":["/Users/hanshanpeng/myproject/myCode/github/wangeditor-formatPaint/src/assets/FromatPaint.js"],"sourcesContent":["import { createEditor } from '@wangeditor/editor';\n\nclass FormatPaint {\n\tconstructor() {\n        this.title = '格式刷' // 自定义菜单标题\n        // this.iconSvg = '<svg>...</svg>' // 可选\n        this.tag = 'button'\n        this.isSelect = false;\n        this.formatJson = {\n            bgColor: \"rgb(115, 209, 61)\",\n            bold: true,\n            color: \"rgb(255, 77, 79)\",\n            fontFamily: \"微软雅黑\",\n            fontSize: \"24px\",\n            italic: true,\n            text: \"界面展现用户体验和\",\n            through: true,\n            underline: true    \n        }\n        this.formatedHtml='';\n    }\n    getValue(editor) {                           // JS 语法\n        return ''\n    }\n\n    // 菜单是否需要激活（如选中加粗文本，“加粗”菜单会激活），用不到则返回 false\n    isActive(editor) {         \n        return this.isSelect;\n    }\n\n    // 菜单是否需要禁用（如选中 H1 ，“引用”菜单被禁用），用不到则返回 false\n    isDisabled(editor) {                     // JS 语法\n        return false\n    }\n\n    // 点击菜单时触发的函数\n    exec(editor, value) {    \n        if (this.isDisabled(editor)) return \n        const select = editor.getFragment()[0].children[0];\n        if(!this.isSelect&&select.text.length){\n            this.formatJson = {...select};\n            this.isSelect = true;\n        }else{\n            editor.getSelectionText() \n            this.isSelect = false;\n        }  \n        editor.blur()\n        editor.focus()                       // JS 语法\n    }\n    //设置格式化好的内容\n    setFormatHtml(editor){\n        if(!this.formatedHtml.length) return;\n        editor.dangerouslyInsertHtml(this.formatedHtml)\n        this.formatedHtml = ''\n    }\n}\n\n//\nconst myFormatPaint = new FormatPaint();\n\nexport function withSelect(editor) {                            // JS 语法\n\n    const { onChange,onBlur,onFocus} = editor // 获取当前 editor API\n    const newEditor = editor\n\n    \n    newEditor.onChange = (editor)=>{\n        onChange();\n        if(myFormatPaint.isSelect){\n            myFormatPaint.formatJson.text = newEditor.getSelectionText()\n                const _editor = createEditor({\n                    content: [myFormatPaint.formatJson]\n                })\n                myFormatPaint.formatedHtml = _editor.getHtml();\n                if(!document.onmouseup){\n                    document.onmouseup=()=>{\n                        if(!myFormatPaint.formatedHtml.length) return;\n                        myFormatPaint.setFormatHtml(newEditor)\n                        document.onmouseup = null\n                    }\n              }\n        }\n        return;\n    }\n    return newEditor\n}\n\n const FormatPaintMenuConf = {\n    key: 'FormatPaintMenuConf', // 定义 menu key ：要保证唯一、不重复（重要）\n    factory() {\n      return myFormatPaint // 把 `YourMenuClass` 替换为你菜单的 class\n    },\n  }\n  export default FormatPaintMenuConf;"],"mappings":";;;;;;;;;;;;AAAA,SAASA,YAAY,QAAQ,oBAAoB;AAAC,IAE5CC,WAAW;EAChB,uBAAc;IAAA;IACP,IAAI,CAACC,KAAK,GAAG,KAAK,EAAC;IACnB;IACA,IAAI,CAACC,GAAG,GAAG,QAAQ;IACnB,IAAI,CAACC,QAAQ,GAAG,KAAK;IACrB,IAAI,CAACC,UAAU,GAAG;MACdC,OAAO,EAAE,mBAAmB;MAC5BC,IAAI,EAAE,IAAI;MACVC,KAAK,EAAE,kBAAkB;MACzBC,UAAU,EAAE,MAAM;MAClBC,QAAQ,EAAE,MAAM;MAChBC,MAAM,EAAE,IAAI;MACZC,IAAI,EAAE,WAAW;MACjBC,OAAO,EAAE,IAAI;MACbC,SAAS,EAAE;IACf,CAAC;IACD,IAAI,CAACC,YAAY,GAAC,EAAE;EACxB;EAAC;IAAA;IAAA,OACD,kBAASC,MAAM,EAAE;MAA4B;MACzC,OAAO,EAAE;IACb;;IAEA;EAAA;IAAA;IAAA,OACA,kBAASA,MAAM,EAAE;MACb,OAAO,IAAI,CAACZ,QAAQ;IACxB;;IAEA;EAAA;IAAA;IAAA,OACA,oBAAWY,MAAM,EAAE;MAAsB;MACrC,OAAO,KAAK;IAChB;;IAEA;EAAA;IAAA;IAAA,OACA,cAAKA,MAAM,EAAEC,KAAK,EAAE;MAChB,IAAI,IAAI,CAACC,UAAU,CAACF,MAAM,CAAC,EAAE;MAC7B,IAAMG,MAAM,GAAGH,MAAM,CAACI,WAAW,EAAE,CAAC,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,CAAC;MAClD,IAAG,CAAC,IAAI,CAACjB,QAAQ,IAAEe,MAAM,CAACP,IAAI,CAACU,MAAM,EAAC;QAClC,IAAI,CAACjB,UAAU,qBAAOc,MAAM,CAAC;QAC7B,IAAI,CAACf,QAAQ,GAAG,IAAI;MACxB,CAAC,MAAI;QACDY,MAAM,CAACO,gBAAgB,EAAE;QACzB,IAAI,CAACnB,QAAQ,GAAG,KAAK;MACzB;MACAY,MAAM,CAACQ,IAAI,EAAE;MACbR,MAAM,CAACS,KAAK,EAAE,EAAuB;IACzC;IACA;EAAA;IAAA;IAAA,OACA,uBAAcT,MAAM,EAAC;MACjB,IAAG,CAAC,IAAI,CAACD,YAAY,CAACO,MAAM,EAAE;MAC9BN,MAAM,CAACU,qBAAqB,CAAC,IAAI,CAACX,YAAY,CAAC;MAC/C,IAAI,CAACA,YAAY,GAAG,EAAE;IAC1B;EAAC;EAAA;AAAA,KAGL;AACA,IAAMY,aAAa,GAAG,IAAI1B,WAAW,EAAE;AAEvC,OAAO,SAAS2B,UAAU,CAACZ,MAAM,EAAE;EAA6B;;EAE5D,IAAQa,QAAQ,GAAmBb,MAAM,CAAjCa,QAAQ;IAACC,MAAM,GAAYd,MAAM,CAAxBc,MAAM;IAACC,OAAO,GAAIf,MAAM,CAAjBe,OAAO,CAAU,CAAC;EAC1C,IAAMC,SAAS,GAAGhB,MAAM;EAGxBgB,SAAS,CAACH,QAAQ,GAAG,UAACb,MAAM,EAAG;IAC3Ba,QAAQ,EAAE;IACV,IAAGF,aAAa,CAACvB,QAAQ,EAAC;MACtBuB,aAAa,CAACtB,UAAU,CAACO,IAAI,GAAGoB,SAAS,CAACT,gBAAgB,EAAE;MACxD,IAAMU,OAAO,GAAGjC,YAAY,CAAC;QACzBkC,OAAO,EAAE,CAACP,aAAa,CAACtB,UAAU;MACtC,CAAC,CAAC;MACFsB,aAAa,CAACZ,YAAY,GAAGkB,OAAO,CAACE,OAAO,EAAE;MAC9C,IAAG,CAACC,QAAQ,CAACC,SAAS,EAAC;QACnBD,QAAQ,CAACC,SAAS,GAAC,YAAI;UACnB,IAAG,CAACV,aAAa,CAACZ,YAAY,CAACO,MAAM,EAAE;UACvCK,aAAa,CAACW,aAAa,CAACN,SAAS,CAAC;UACtCI,QAAQ,CAACC,SAAS,GAAG,IAAI;QAC7B,CAAC;MACP;IACN;IACA;EACJ,CAAC;EACD,OAAOL,SAAS;AACpB;AAEC,IAAMO,mBAAmB,GAAG;EACzBC,GAAG,EAAE,qBAAqB;EAAE;EAC5BC,OAAO,qBAAG;IACR,OAAOd,aAAa,EAAC;EACvB;AACF,CAAC;;AACD,eAAeY,mBAAmB"}]}